utitlity function of version 1