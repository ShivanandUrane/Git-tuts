utitlity function of version 2